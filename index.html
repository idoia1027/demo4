<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AIæ¸¸æˆæ¨èDemo-å¤šé£æ ¼äº¤äº’æ¨è</title>
  <style>
    body {
      margin: 0;
      font-family: "PingFang SC", "Microsoft YaHei", Arial, sans-serif;
      background: #f5f6fa;
      color: #222;
    }
    .app-header {
      background: #2d8cf0;
      color: #fff;
      padding: 18px 0 12px 0;
      text-align: center;
      font-size: 22px;
      font-weight: bold;
      letter-spacing: 2px;
      border-radius: 0 0 18px 18px;
      box-shadow: 0 2px 8px #0001;
    }
    .tab-bar {
      display: flex;
      margin: 18px 10px 0 10px;
      border-radius: 12px;
      overflow: hidden;
      background: #e6eaf1;
    }
    .tab-btn {
      flex: 1;
      padding: 12px 0;
      text-align: center;
      font-size: 16px;
      cursor: pointer;
      background: #e6eaf1;
      color: #666;
      border: none;
      outline: none;
      transition: background 0.2s, color 0.2s;
    }
    .tab-btn.active {
      background: #fff;
      color: #2d8cf0;
      font-weight: bold;
    }
    .tab-content {
      padding: 18px 10px 10px 10px;
    }
    .card {
      background: #fff;
      border-radius: 14px;
      box-shadow: 0 2px 8px #0001;
      margin-bottom: 18px;
      padding: 18px 16px;
    }
    .input-row {
      display: flex;
      margin-bottom: 12px;
    }
    .input-row input, .input-row select {
      flex: 1;
      padding: 10px;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      font-size: 16px;
      outline: none;
    }
    .input-row button {
      margin-left: 8px;
      padding: 10px 18px;
      background: #2d8cf0;
      color: #fff;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      transition: background 0.2s;
    }
    .feedback-row {
      margin-top: 10px;
      display: flex;
      gap: 10px;
    }
    .feedback-row button {
      flex: 1;
      padding: 8px 0;
      border-radius: 8px;
      border: none;
      font-size: 15px;
      cursor: pointer;
      background: #f0f0f0;
      color: #2d8cf0;
      transition: background 0.2s, color 0.2s;
    }
    .feedback-row button.selected,
    .feedback-row button:hover {
      background: #2d8cf0;
      color: #fff;
    }
    .explain {
      font-size: 14px;
      color: #888;
      margin-top: 6px;
      margin-bottom: 2px;
    }
    .section-title {
      font-weight: bold;
      font-size: 16px;
      margin: 12px 0 6px 0;
      color: #2d8cf0;
    }
    .tag {
      display: inline-block;
      background: #e6eaf1;
      color: #2d8cf0;
      border-radius: 8px;
      padding: 2px 10px;
      font-size: 13px;
      margin-right: 6px;
      margin-bottom: 4px;
    }
    .game-cards {
      display: flex;
      flex-direction: column;
      gap: 14px;
      margin-top: 8px;
    }
    .game-card {
      background: #f8fafc;
      border-radius: 10px;
      padding: 12px 14px;
      box-shadow: 0 1px 4px #0001;
      display: flex;
      gap: 12px;
      align-items: flex-start;
    }
    .game-icon {
      font-size: 32px;
      width: 40px;
      text-align: center;
      flex-shrink: 0;
      margin-top: 2px;
    }
    .game-info {
      flex: 1;
    }
    .game-title {
      font-weight: bold;
      font-size: 16px;
      margin-bottom: 4px;
      color: #2d8cf0;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .game-desc {
      font-size: 14px;
      color: #444;
      line-height: 1.6;
    }
    .dialog-flow {
      margin-top: 10px;
    }
    .dialog-bubble {
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 1px 4px #0001;
      padding: 14px 16px;
      margin-bottom: 12px;
      position: relative;
    }
    .dialog-bubble .bubble-title {
      font-weight: bold;
      color: #2d8cf0;
      margin-bottom: 6px;
    }
    .dialog-bubble .bubble-table {
      width: 100%;
      border-collapse: collapse;
      margin: 8px 0;
      font-size: 14px;
    }
    .dialog-bubble .bubble-table th,
    .dialog-bubble .bubble-table td {
      border: 1px solid #e6eaf1;
      padding: 4px 8px;
      text-align: center;
    }
    .bubble-btns {
      margin-top: 8px;
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }
    .bubble-btns button {
      background: #e6eaf1;
      color: #2d8cf0;
      border: none;
      border-radius: 8px;
      padding: 4px 12px;
      font-size: 14px;
      cursor: pointer;
      transition: background 0.2s, color 0.2s;
    }
    .bubble-btns button:hover {
      background: #2d8cf0;
      color: #fff;
    }
    .bubble-feedback {
      margin-top: 10px;
      display: flex;
      gap: 10px;
    }
    .bubble-feedback button {
      flex: 1;
      padding: 8px 0;
      border-radius: 8px;
      border: none;
      font-size: 15px;
      cursor: pointer;
      background: #f0f0f0;
      color: #2d8cf0;
      transition: background 0.2s, color 0.2s;
    }
    .bubble-feedback button.selected,
    .bubble-feedback button:hover {
      background: #2d8cf0;
      color: #fff;
    }
    .bubble-input-row {
      margin-top: 8px;
      display: flex;
      gap: 8px;
    }
    .bubble-input-row input {
      flex: 1;
      padding: 7px 10px;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      font-size: 15px;
      outline: none;
    }
    .bubble-input-row button {
      padding: 7px 16px;
      background: #2d8cf0;
      color: #fff;
      border: none;
      border-radius: 8px;
      font-size: 15px;
      cursor: pointer;
      transition: background 0.2s;
    }
    @media (max-width: 600px) {
      .tab-content, .tab-bar { padding-left: 0; padding-right: 0; }
      .card { padding: 14px 8px; }
      .game-card { flex-direction: column; align-items: flex-start; }
      .game-icon { margin-bottom: 4px; }
      .dialog-bubble { padding: 10px 6px; }
    }
  </style>
</head>
<body>
  <div class="app-header">AIæ¸¸æˆæ¨è Demoå’±å°±æ˜¯ä¸ªçº¯ç¤ºæ„</div>
  <div class="tab-bar">
    <button class="tab-btn active" id="tab1-btn">äº’åŠ¨æ¨è</button>
    <button class="tab-btn" id="tab2-btn">åå¥½åˆ†ææ¨è</button>
  </div>
  <div class="tab-content" id="tab1-content">
    <!-- äº’åŠ¨æ¨è -->
    <div class="card">
      <div style="font-size:17px;font-weight:bold;margin-bottom:10px;">å‘Šè¯‰æˆ‘ä½ å–œæ¬¢ä»€ä¹ˆæ¸¸æˆï¼Œæˆ–è€…æƒ³æ‰¾ä»€ä¹ˆæ ·çš„æ¸¸æˆ</div>
      <div class="explain">
        æ”¯æŒè¾“å…¥ï¼šç¬¬äº”äººæ ¼ã€ç‹è€…è£è€€ã€æ•é±¼å¤§ä½œæˆ˜ã€æ‹ä¸æ·±ç©ºï¼Œæˆ–å¦‚â€œä¼‘é—²æ¸¸æˆâ€â€œå¥½ç©çš„æ¸¸æˆâ€â€œå°„å‡»æ¸¸æˆâ€ç­‰ç±»åˆ«è¡¨è¾¾
      </div>
      <div class="input-row">
        <input type="text" id="userInput" placeholder="å¦‚ï¼šç¬¬äº”äººæ ¼ã€æ‹ä¸æ·±ç©ºã€å°„å‡»ã€è§£è°œã€ç‹è€…è£è€€...">
        <button onclick="getRecommendation()">æ¨è</button>
      </div>
      <div id="dialogFlow" class="dialog-flow"></div>
    </div>
  </div>
  <div class="tab-content" id="tab2-content" style="display:none;">
    <!-- åå¥½åˆ†ææ¨è -->
    <div class="card">
      <div style="font-size:17px;font-weight:bold;margin-bottom:10px;">è¯·é€‰æ‹©ä½ çš„æ¸¸æˆè¡Œä¸ºæ¡ˆä¾‹ï¼š</div>
      <div class="input-row">
        <select id="profileCase" style="flex:1;padding:10px;border-radius:8px;font-size:16px;">
          <option value="guofeng">å›½é£/ç„å¹»/æ­¦ä¾ é‡åº¦RPGç©å®¶</option>
          <option value="funny">è½»æ¾ææ€ª/è§£å‹/ç­–ç•¥ç©å®¶</option>
        </select>
        <button onclick="showProfileAnalysis()">åˆ†æ</button>
      </div>
      <div id="profileAnalysis"></div>
      <div id="profileRecommend"></div>
    </div>
  </div>
  <script>
    // Tabåˆ‡æ¢
    document.getElementById('tab1-btn').onclick = function() {
      this.classList.add('active');
      document.getElementById('tab2-btn').classList.remove('active');
      document.getElementById('tab1-content').style.display = '';
      document.getElementById('tab2-content').style.display = 'none';
    };
    document.getElementById('tab2-btn').onclick = function() {
      this.classList.add('active');
      document.getElementById('tab1-btn').classList.remove('active');
      document.getElementById('tab2-content').style.display = '';
      document.getElementById('tab1-content').style.display = 'none';
    };

    // äº’åŠ¨æ¨èæ•°æ®ï¼ˆç®€åŒ–ç‰ˆï¼Œæ™®é€šç±»å‹ç”¨ï¼‰
    const gameRecommendData = {
      "è§£è°œ": [
        {
          icon: "ğŸ§©",
          name: "æœªä¸Šé”çš„æˆ¿é—´",
          tag: "å¯†å®¤è§£è°œ",
          desc: "æå…·æ²‰æµ¸æ„Ÿçš„3Då¯†å®¤è§£è°œï¼Œè°œé¢˜è®¾è®¡å·§å¦™ï¼Œæ°›å›´ç´§å¼ åˆºæ¿€ï¼Œé€‚åˆå–œæ¬¢æŒ‘æˆ˜å¤§è„‘çš„ä½ ã€‚"
        },
        {
          icon: "ğŸŒ„",
          name: "çºªå¿µç¢‘è°·",
          tag: "è‰ºæœ¯è§£è°œ",
          desc: "æç®€å”¯ç¾ç”»é£ï¼Œç©ºé—´é”™ä½è°œé¢˜ï¼Œè§†è§‰ä¸å¿ƒçµçš„åŒé‡äº«å—ï¼Œé€‚åˆå–œæ¬¢è‰ºæœ¯ä¸è§£è°œç»“åˆçš„ç©å®¶ã€‚"
        },
        {
          icon: "ğŸ¤–",
          name: "æœºæ¢°è¿·åŸ",
          tag: "è’¸æ±½æœ‹å…‹è§£è°œ",
          desc: "æ‰‹ç»˜é£æ ¼ï¼Œæœºæ¢°ä¸–ç•Œå†’é™©ï¼Œè°œé¢˜ä¸°å¯Œï¼Œæ•…äº‹æ¸©é¦¨ï¼Œé€‚åˆå–œæ¬¢æ¢ç´¢ä¸è§£è°œçš„ä½ ã€‚"
        }
      ],
      "å°„å‡»": [
        {
          icon: "ğŸ”«",
          name: "å’Œå¹³ç²¾è‹±",
          tag: "æˆ˜æœ¯å°„å‡»",
          desc: "ç™¾äººåŒåœºç«æŠ€ï¼ŒçœŸå®æªæ¢°æ‰‹æ„Ÿï¼Œä¸°å¯Œè½½å…·ä¸åœ°å›¾ï¼Œé€‚åˆå–œæ¬¢å›¢é˜Ÿåä½œä¸ç«æŠ€çš„ç©å®¶ã€‚"
        },
        {
          icon: "ğŸ’£",
          name: "ä½¿å‘½å¬å”¤æ‰‹æ¸¸",
          tag: "ç»å…¸å°„å‡»",
          desc: "è¿˜åŸç«¯æ¸¸ä½“éªŒï¼Œä¸°å¯Œæ¨¡å¼ï¼Œæ“ä½œæµç•…ï¼Œé€‚åˆFPSè€ç©å®¶å’Œæ–°æ‰‹ã€‚"
        },
        {
          icon: "ğŸ¹",
          name: "å ¡å’ä¹‹å¤œ",
          tag: "å»ºé€ å°„å‡»",
          desc: "ç‹¬ç‰¹å»ºé€ ç³»ç»Ÿï¼Œå¡é€šé£æ ¼ï¼Œåˆ›æ„ç©æ³•ï¼Œé€‚åˆå–œæ¬¢åˆ›æ–°å’Œç¤¾äº¤çš„ç©å®¶ã€‚"
        }
      ],
      "äºŒæ¬¡å…ƒ": [
        {
          icon: "ğŸŒŒ",
          name: "åŸç¥",
          tag: "å¼€æ”¾ä¸–ç•ŒRPG",
          desc: "è¶…é«˜è‡ªç”±åº¦æ¢ç´¢ï¼Œç²¾ç¾äºŒæ¬¡å…ƒç”»é£ï¼Œä¸°å¯Œè§’è‰²å…»æˆï¼Œé€‚åˆå–œæ¬¢å†’é™©ä¸å‰§æƒ…çš„ä½ ã€‚"
        },
        {
          icon: "ğŸš‚",
          name: "å´©åï¼šæ˜Ÿç©¹é“é“",
          tag: "å›åˆåˆ¶å†’é™©",
          desc: "ç§‘å¹»äºŒæ¬¡å…ƒï¼Œç­–ç•¥å›åˆæˆ˜æ–—ï¼Œå‰§æƒ…ç²¾å½©ï¼Œé€‚åˆå–œæ¬¢ç§‘å¹»ä¸ç­–ç•¥çš„ç©å®¶ã€‚"
        },
        {
          icon: "ğŸ¦¸â€â™€ï¸",
          name: "æ˜æ—¥æ–¹èˆŸ",
          tag: "å¡”é˜²å…»æˆ",
          desc: "ç‹¬ç‰¹å¡”é˜²ç©æ³•ï¼Œè§’è‰²ç«‹ç»˜ç²¾ç¾ï¼Œç­–ç•¥æ€§å¼ºï¼Œé€‚åˆå–œæ¬¢æŒ‘æˆ˜å’Œæ”¶é›†çš„ä½ ã€‚"
        }
      ],
      "ç«æŠ€": [
        {
          icon: "âš”ï¸",
          name: "ç‹è€…è£è€€",
          tag: "MOBAç«æŠ€",
          desc: "å›½æ°‘çº§5V5ç«æŠ€ï¼Œè‹±é›„å¤šæ ·ï¼Œæ“ä½œä¸Šæ‰‹å¿«ï¼Œé€‚åˆå–œæ¬¢å›¢é˜Ÿå¯¹æŠ—çš„ç©å®¶ã€‚"
        },
        {
          icon: "ğŸ§™â€â™‚ï¸",
          name: "è‹±é›„è”ç›Ÿæ‰‹æ¸¸",
          tag: "MOBAç«æŠ€",
          desc: "ç«¯æ¸¸ç»å…¸è¿˜åŸï¼Œç­–ç•¥ä¸æ“ä½œå¹¶é‡ï¼Œé€‚åˆå–œæ¬¢æ·±åº¦ç«æŠ€çš„ä½ ã€‚"
        },
        {
          icon: "ğŸš—",
          name: "QQé£è½¦",
          tag: "ç«é€Ÿæ¼‚ç§»",
          desc: "æé€Ÿæ¼‚ç§»ï¼Œä¸°å¯Œèµ›é“ï¼Œä¸ªæ€§è£…æ‰®ï¼Œé€‚åˆå–œæ¬¢é€Ÿåº¦ä¸æ¿€æƒ…çš„ç©å®¶ã€‚"
        }
      ],
      "å‰§æƒ…": [
        {
          icon: "ğŸ’–",
          name: "æ‹ä¸æ·±ç©º",
          tag: "æ‹çˆ±å‰§æƒ…",
          desc: "æ²‰æµ¸å¼æ‹çˆ±ä½“éªŒï¼Œå‰§æƒ…ä¸°å¯Œï¼Œè§’è‰²äº’åŠ¨çœŸå®ï¼Œé€‚åˆå–œæ¬¢å‰§æƒ…ä¸æƒ…æ„Ÿå…±é¸£çš„ä½ ã€‚"
        },
        {
          icon: "ğŸ”",
          name: "æœªå®šäº‹ä»¶ç°¿",
          tag: "æ¨ç†æ‹çˆ±",
          desc: "æ¨ç†ä¸æ‹çˆ±ç»“åˆï¼Œæ¡ˆä»¶è§£è°œï¼Œè§’è‰²å¡‘é€ ç«‹ä½“ï¼Œé€‚åˆå–œæ¬¢æ¨ç†ä¸æ‹çˆ±çš„ç©å®¶ã€‚"
        },
        {
          icon: "â˜ï¸",
          name: "å…‰Â·é‡",
          tag: "æ²»æ„ˆå†’é™©",
          desc: "å”¯ç¾ç”»é£ï¼Œæ¸©æš–ç¤¾äº¤ï¼Œæ¢ç´¢ä¸æˆé•¿å¹¶é‡ï¼Œé€‚åˆå–œæ¬¢æ²»æ„ˆä¸å†’é™©çš„ä½ ã€‚"
        }
      ],
      "å…»æˆ": [
        {
          icon: "ğŸ¦¸â€â™€ï¸",
          name: "æ˜æ—¥æ–¹èˆŸ",
          tag: "å¡”é˜²å…»æˆ",
          desc: "ç­–ç•¥å¡”é˜²ä¸è§’è‰²å…»æˆç»“åˆï¼Œç”»é£ç‹¬ç‰¹ï¼Œé€‚åˆå–œæ¬¢ç­–ç•¥ä¸æ”¶é›†çš„ç©å®¶ã€‚"
        },
        {
          icon: "ğŸ‘—",
          name: "é—ªè€€æš–æš–",
          tag: "æ¢è£…å…»æˆ",
          desc: "æµ·é‡æœé¥°æ­é…ï¼Œç²¾ç¾ç«‹ç»˜ï¼Œå‰§æƒ…ä¸°å¯Œï¼Œé€‚åˆå–œæ¬¢æ—¶å°šä¸å…»æˆçš„ä½ ã€‚"
        },
        {
          icon: "ğŸ‘¹",
          name: "é˜´é˜³å¸ˆ",
          tag: "å›½é£å…»æˆ",
          desc: "é¡¶çº§å›½é£ç¾æœ¯ï¼Œå¼ç¥æ”¶é›†å…»æˆï¼Œå‰§æƒ…æ·±åº¦ï¼Œé€‚åˆå–œæ¬¢å¤é£ä¸å…»æˆçš„ç©å®¶ã€‚"
        }
      ],
      "å†’é™©": [
        {
          icon: "ğŸŒŒ",
          name: "åŸç¥",
          tag: "å¼€æ”¾ä¸–ç•ŒRPG",
          desc: "è¶…é«˜è‡ªç”±åº¦æ¢ç´¢ï¼Œä¸°å¯Œä¸»çº¿ä¸æ”¯çº¿ä»»åŠ¡ï¼Œé€‚åˆå–œæ¬¢å†’é™©ä¸æ¢ç´¢çš„ä½ ã€‚"
        },
        {
          icon: "â˜ï¸",
          name: "å…‰Â·é‡",
          tag: "æ²»æ„ˆå†’é™©",
          desc: "æ¸©æš–ç¤¾äº¤ï¼Œå”¯ç¾ç”»é£ï¼Œé€‚åˆå–œæ¬¢æ²»æ„ˆä¸å†’é™©çš„ç©å®¶ã€‚"
        },
        {
          icon: "ğŸ§©",
          name: "æœªä¸Šé”çš„æˆ¿é—´",
          tag: "å¯†å®¤è§£è°œ",
          desc: "æ²‰æµ¸å¼å¯†å®¤è§£è°œï¼Œè°œé¢˜ä¸°å¯Œï¼Œé€‚åˆå–œæ¬¢æŒ‘æˆ˜çš„ä½ ã€‚"
        }
      ]
    };

    // äº’åŠ¨æ¨èä¸»é€»è¾‘
    let dialogHistory = [];
    function getRecommendation(tag) {
      const input = tag || document.getElementById('userInput').value.trim();
      if (!input) return;
      // ç‰¹æ®Šcaseï¼šç¬¬äº”äººæ ¼
      if (/ç¬¬äº”äººæ ¼/i.test(input)) {
        addDialogBubble(getBubbleForId5());
        return;
      }
      // ç‰¹æ®Šcaseï¼šæ‹ä¸æ·±ç©º
      if (/æ‹ä¸æ·±ç©º/i.test(input)) {
        addDialogBubble(getBubbleForLianYu());
        return;
      }
      // å…¶å®ƒç±»å‹
      let matchedTag = null;
      for (let key in gameRecommendData) {
        if (input.includes(key) || (gameRecommendData[key].some(g => input.includes(g.name)))) {
          matchedTag = key;
          break;
        }
      }
      if (!matchedTag) {
        // éšæœºæ¨èä¸€ä¸ªç±»å‹
        const keys = Object.keys(gameRecommendData);
        matchedTag = keys[Math.floor(Math.random() * keys.length)];
      }
      addDialogBubble(getBubbleForNormal(matchedTag, input));
    }

    // æ™®é€šç±»å‹æ¨èæ°”æ³¡
    function getBubbleForNormal(tag, input) {
      const games = gameRecommendData[tag];
      let reason = "";
      switch(tag) {
        case "è§£è°œ": reason = "ä½ å–œæ¬¢æŒ‘æˆ˜å¤§è„‘ã€æ¢ç´¢æœªçŸ¥ï¼Œäº«å—è§£è°œå¸¦æ¥çš„æˆå°±æ„Ÿå’Œæ²‰æµ¸ä½“éªŒã€‚"; break;
        case "å°„å‡»": reason = "ä½ åå¥½ç´§å¼ åˆºæ¿€çš„ç«æŠ€æ°›å›´ï¼Œå–œæ¬¢å›¢é˜Ÿåä½œå’ŒçœŸå®çš„å°„å‡»ä½“éªŒã€‚"; break;
        case "äºŒæ¬¡å…ƒ": reason = "ä½ å–œæ¬¢ç²¾ç¾çš„äºŒæ¬¡å…ƒç”»é£ï¼Œäº«å—è§’è‰²å…»æˆå’Œä¸°å¯Œå‰§æƒ…ã€‚"; break;
        case "ç«æŠ€": reason = "ä½ çƒ­çˆ±å›¢é˜Ÿå¯¹æŠ—ï¼Œè¿½æ±‚æ“ä½œä¸ç­–ç•¥å¹¶é‡çš„ç«æŠ€ä¹è¶£ã€‚"; break;
        case "å‰§æƒ…": reason = "ä½ æ³¨é‡æ•…äº‹å’Œè§’è‰²äº’åŠ¨ï¼Œå–œæ¬¢æ²‰æµ¸åœ¨ä¸°å¯Œçš„å‰§æƒ…ä¸–ç•Œä¸­ã€‚"; break;
        case "å…»æˆ": reason = "ä½ å–œæ¬¢æ”¶é›†å’Œå…»æˆï¼Œäº«å—è§’è‰²æˆé•¿å’Œç­–ç•¥æ­é…çš„ä¹è¶£ã€‚"; break;
        case "å†’é™©": reason = "ä½ å–œæ¬¢æ¢ç´¢ä¸–ç•Œï¼Œä½“éªŒè‡ªç”±å†’é™©å’Œæˆé•¿çš„è¿‡ç¨‹ã€‚"; break;
        default: reason = "ä¸ºä½ ç²¾é€‰äº†å‡ æ¬¾é«˜è´¨é‡å¥½ç©çš„æ¸¸æˆï¼Œå¿«æ¥ä½“éªŒå§ï¼";
      }
      let html = `<div class="bubble-title">æ¨èç†ç”±</div>
        <div class="explain">${reason}</div>
        <div class="game-cards">`;
      games.slice(0, 3).forEach(g => {
        html += `
          <div class="game-card">
            <div class="game-icon">${g.icon}</div>
            <div class="game-info">
              <div class="game-title">${g.name} <span class="tag">${g.tag}</span></div>
              <div class="game-desc">${g.desc}</div>
            </div>
          </div>
        `;
      });
      html += `</div>
        <div class="bubble-feedback">
          <button onclick="feedback('like', null)">æ»¡æ„</button>
          <button onclick="feedback('dislike', '${tag}')">ä¸æ»¡æ„</button>
        </div>
      `;
      return html;
    }

    // ç¬¬äº”äººæ ¼è¯¦ç»†æ¨èæ°”æ³¡
    function getBubbleForId5(detail) {
      let html = `<div class="bubble-title">ä½ æƒ³æ‰¾çš„æ˜¯ï¼šéå¯¹ç§°å¯¹æŠ—ç«æŠ€ï¼ˆ1v4ï¼‰+ ææ€–æ‚¬ç–‘æ°›å›´ + è§’è‰²æ‰®æ¼”/æŠ€èƒ½çš„æ¸¸æˆ</div>
      <div class="explain">æ ¸å¿ƒä¹è¶£ï¼šé€ƒç”Ÿ/è¿½æ•çš„ç´§å¼ æ„Ÿã€è§’è‰²æŠ€èƒ½çš„ç‹¬ç‰¹ç­–ç•¥ä»¥åŠåˆä½œ/å¯¹æŠ—çš„ç¤¾äº¤ä½“éªŒã€‚</div>
      <div class="section-title">ğŸŒŸ å¼ºçƒˆæ¨èï¼ˆæ ¸å¿ƒç©æ³•é«˜åº¦ç›¸ä¼¼ï¼‰</div>
      <div class="game-cards">
        <div class="game-card">
          <div class="game-icon">ğŸ©¸</div>
          <div class="game-info">
            <div class="game-title">é»æ˜æ€æœº æ‰‹æ¸¸ <span class="tag">éå¯¹ç§°ç«æŠ€</span></div>
            <div class="game-desc"><b>å¹³å°ï¼š</b>iOS/Android (å¤–æœ)<br>
            <b>ç›¸ä¼¼åº¦ï¼š</b>â­â­â­â­â­<br>
            <b>ç‰¹ç‚¹ï¼š</b>æ­£ç»Ÿéå¯¹ç§°å¯¹æŠ—é¼»ç¥–çš„æ‰‹æ¸¸ç‰ˆï¼Œ1æ€æ‰‹vs4é€ƒç”Ÿè€…ï¼Œä¿®å‘ç”µæœºå¼€é—¨é€ƒç”Ÿã€‚è§’è‰²ã€æŠ€èƒ½ã€åœ°å›¾é«˜åº¦è¿˜åŸï¼Œææ€–æ°›å›´æµ“éƒï¼Œç­–ç•¥æ·±åº¦é«˜ã€‚<br>
            <b>æ³¨æ„ï¼š</b>éœ€åŠ é€Ÿå™¨ï¼Œç½‘ç»œè¦æ±‚è¾ƒé«˜ã€‚</div>
          </div>
        </div>
        <div class="game-card">
          <div class="game-icon">ğŸ­</div>
          <div class="game-info">
            <div class="game-title">çŒ«å’Œè€é¼  <span class="tag">éå¯¹ç§°ç«æŠ€</span></div>
            <div class="game-desc"><b>å¹³å°ï¼š</b>iOS/Android (å›½æœ)<br>
            <b>ç›¸ä¼¼åº¦ï¼š</b>â­â­â­â­<br>
            <b>ç‰¹ç‚¹ï¼š</b>1v4éå¯¹ç§°å¯¹æŠ—ï¼Œå¡é€šæ¬¢ä¹ç”»é£ï¼Œæ±¤å§†è¿½æ•æ°ç‘å°é˜Ÿï¼Œåœ°å›¾é“å…·äº’åŠ¨ä¸°å¯Œï¼ŒèŠ‚å¥å¿«ï¼Œé€‚åˆä¼‘é—²ç©å®¶ã€‚</div>
          </div>
        </div>
      </div>
      <div class="section-title">ğŸ­ é£æ ¼åŒ–æ›¿ä»£</div>
      <div class="game-cards">
        <div class="game-card">
          <div class="game-icon">ğŸ‘¹</div>
          <div class="game-info">
            <div class="game-title">é¬¼ç•œå¤©çº¿å®å® <span class="tag">çŒå¥‡éå¯¹ç§°</span></div>
            <div class="game-desc">1åç©å®¶æ‰®æ¼”ææ€–åæ´¾è¿½æ•4åç”Ÿå­˜è€…ï¼Œé»‘æš—ç«¥è¯é£+é»‘è‰²å¹½é»˜ï¼Œå…è´¹æ— å†…è´­ã€‚</div>
          </div>
        </div>
        <div class="game-card">
          <div class="game-icon">ğŸ§Ÿâ€â™‚ï¸</div>
          <div class="game-info">
            <div class="game-title">EVD è¿½æ•è¡ŒåŠ¨ <span class="tag">ææ€–éå¯¹ç§°</span></div>
            <div class="game-desc">åŸºäºç»å…¸ææ€–ç”µå½±IPï¼Œ1åæ¶é­”ç©å®¶vs4åäººç±»å¹¸å­˜è€…ï¼Œç¾å¼è¡€è…¥ææ€–+è§’è‰²æŠ€èƒ½è”åŠ¨ã€‚</div>
          </div>
        </div>
      </div>
      <div class="section-title">ğŸ”¦ å›½äº§ä¼˜è´¨æ›¿ä»£</div>
      <div class="game-cards">
        <div class="game-card">
          <div class="game-icon">ğŸ§›â€â™‚ï¸</div>
          <div class="game-info">
            <div class="game-title">å¤±è½è®°å¿† <span class="tag">ä¸­å¼ææ€–</span></div>
            <div class="game-desc">2-4äººåˆä½œå¯¹æŠ—æ€ªç‰©ï¼Œæ°›å›´é˜´æ£®å‹æŠ‘ï¼Œå¼ºè°ƒèº²è—ã€è§£è°œã€èµ„æºç®¡ç†ï¼Œææ€–æ„Ÿè´´è¿‘ç¬¬äº”äººæ ¼ã€‚</div>
          </div>
        </div>
      </div>
      <div class="section-title">âœ… ç»ˆæé€‰æ‹©å»ºè®®</div>
      <table class="bubble-table">
        <tr><th>åå¥½</th><th>é¦–é€‰æ¨è</th><th>æ¬¡é€‰æ¨è</th></tr>
        <tr><td>ç¡¬æ ¸è¿˜åŸæ€æœºä½“éªŒ</td><td>é»æ˜æ€æœº æ‰‹æ¸¸</td><td>-</td></tr>
        <tr><td>è½»æ¾æç¬‘+å¿«èŠ‚å¥</td><td>çŒ«å’Œè€é¼ </td><td>é¬¼ç•œå¤©çº¿å®å®</td></tr>
        <tr><td>æ²‰æµ¸ä¸­å¼ææ€–</td><td>å¤±è½è®°å¿†</td><td>å…³æ³¨æ¢çµç¬”è®°åŠ¨æ€</td></tr>
        <tr><td>ç­‰ç”µå½±IPå¤§ä½œ</td><td>é¢„çº¦EVD è¿½æ•è¡ŒåŠ¨</td><td>-</td></tr>
      </table>
      <div class="bubble-feedback">
        <button onclick="feedback('like', 'id5')">æ»¡æ„</button>
        <button onclick="feedback('dislike', 'id5')">ä¸æ»¡æ„</button>
      </div>
      `;
      return html;
    }

    // æ‹ä¸æ·±ç©ºè¯¦ç»†æ¨èæ°”æ³¡
    function getBubbleForLianYu(detail) {
      let html = `<div class="bubble-title">ä½ æƒ³è¦çš„æ˜¯ï¼šé«˜é¢œå€¼3DåŠ¨æ€äº’åŠ¨ + å¤šç”·ä¸»æƒ…æ„Ÿç¾ç»Š + å¼ºå‰§æƒ…ä»£å…¥æ„Ÿ + ç°ä»£/ç§‘å¹»éƒ½å¸‚èƒŒæ™¯</div>
      <div class="section-title">ğŸŒŸ æ ¸å¿ƒç›¸ä¼¼ï¼šæ¬¡ä¸–ä»£æ‹çˆ±äº’åŠ¨+é«˜è´¨é‡3D</div>
      <div class="game-cards">
        <div class="game-card">
          <div class="game-icon">âš–ï¸</div>
          <div class="game-info">
            <div class="game-title">æœªå®šäº‹ä»¶ç°¿ <span class="tag">3Däº’åŠ¨æ‹çˆ±</span></div>
            <div class="game-desc">å…¨åŠ¨æ€3Däº’åŠ¨ï¼Œéƒ½å¸‚æ‚¬ç–‘+å¾‹æ”¿é¢˜æï¼Œè§¦ç¢°åé¦ˆç³»ç»Ÿï¼ŒåŠ¨ç”»ç”µå½±çº§å¡é¢ã€‚<br>æ›´ä¾§é‡å‰§æƒ…æ¨ç†ï¼Œæ‹çˆ±çº¿åœ¨åˆä½œæŸ¥æ¡ˆä¸­æ·±åŒ–ã€‚</div>
          </div>
        </div>
        <div class="game-card">
          <div class="game-icon">ğŸŒƒ</div>
          <div class="game-info">
            <div class="game-title">å…‰ä¸å¤œä¹‹æ‹ <span class="tag">äº’åŠ¨æ‹çˆ±</span></div>
            <div class="game-desc">360Â°ç¯ç»•å¼äº’åŠ¨ï¼Œä¸­æ—¥åŒCVï¼Œå¤šåˆ†æ”¯å‰§æƒ…ï¼Œç°ä»£éƒ½å¸‚+è¶…èƒ½åŠ›è®¾å®šã€‚<br>æ°›å›´æ›´æš—é»‘ç°å®å‘ï¼Œå¡é¢ååä¸½æš—è‰²è°ƒã€‚</div>
          </div>
        </div>
      </div>
      <div class="section-title">ğŸš€ ç§‘å¹»/æœªæ¥æ„Ÿæ‹çˆ±æ›¿ä»£</div>
      <div class="game-cards">
        <div class="game-card">
          <div class="game-icon">ğŸª</div>
          <div class="game-info">
            <div class="game-title">æ—¶ç©ºä¸­çš„ç»˜æ—…äºº <span class="tag">ç§‘å¹»æ‹çˆ±</span></div>
            <div class="game-desc">å¹³è¡Œæ—¶ç©ºç©¿è¶Šï¼Œç”·ä¸»èº«ä»½å¤šæ ·ï¼ŒLive2Däº’åŠ¨å‡çº§ï¼Œé€‚åˆå–œæ¬¢æ˜Ÿé™…æµªæ¼«å’Œå®å¤§ä¸–ç•Œè§‚ã€‚</div>
          </div>
        </div>
        <div class="game-card">
          <div class="game-icon">ğŸŒŠ</div>
          <div class="game-info">
            <div class="game-title">ä»£å·ï¼šæµ· <span class="tag">æœªæ¥æ‹çˆ±</span></div>
            <div class="game-desc">è¿‘æœªæ¥æµ·æ´‹éƒ½å¸‚ï¼Œç½‘æ˜“æŠ€æœ¯åŠ æŒï¼Œæ°´ä¸‹å…‰å½±ã€åŠ¨æ€æµä½“æ•ˆæœæƒŠè‰³ï¼Œå¼ºçƒˆå»ºè®®é¢„çº¦ã€‚</div>
          </div>
        </div>
      </div>
      <div class="section-title">ğŸ’– å°ä¼—ä½†æ²‰æµ¸æ„Ÿç‚¸è£‚çš„å®è—</div>
      <div class="game-cards">
        <div class="game-card">
          <div class="game-icon">ğŸ‘‘</div>
          <div class="game-info">
            <div class="game-title">å°‘å¥³çš„ç‹åº§ <span class="tag">è¥¿å¹»æ‹çˆ±RPG</span></div>
            <div class="game-desc">è¥¿å¹»æ”¿æ²»æƒè°‹ï¼Œ3Dæ¨¡å‹çº¦ä¼šï¼Œæ·±åº¦äººè®¾ï¼Œé€‰æ‹©å½±å“å›½å®¶å­˜äº¡ã€‚</div>
          </div>
        </div>
        <div class="game-card">
          <div class="game-icon">ğŸŒ</div>
          <div class="game-info">
            <div class="game-title">Mr Love: Queen's Choice <span class="tag">å›½é™…æœæ‹çˆ±</span></div>
            <div class="game-desc">ä¹™æ¸¸å¼€å±±é¼»ç¥–ï¼ŒçŸ­ä¿¡/ç”µè¯/æœ‹å‹åœˆäº’åŠ¨ï¼Œç§‘å¹»æ‚¬ç–‘ä¸»çº¿ï¼Œå…¨è¯­éŸ³è¦†ç›–ã€‚</div>
          </div>
        </div>
        <div class="game-card">
          <div class="game-icon">ğŸ˜ˆ</div>
          <div class="game-info">
            <div class="game-title">Obey Me! <span class="tag">æ¶é­”åŒå±…</span></div>
            <div class="game-desc">7ä½æ¶é­”ç”·ä¸»ï¼ŒQç‰ˆ3Däº’åŠ¨ï¼ŒéŸ³æ¸¸+å¡ç‰Œç©æ³•ï¼Œæç¬‘æ²»æ„ˆå‘ã€‚</div>
          </div>
        </div>
      </div>
      <div class="section-title">ğŸ“Œ æŒ‰ä½ åå¥½ç²¾å‡†åŒ¹é…</div>
      <table class="bubble-table">
        <tr><th>éœ€æ±‚</th><th>é¦–é€‰æ¨è</th><th>å¤‡é€‰</th></tr>
        <tr><td>3DåŠ¨æ€äº²å¯†äº’åŠ¨</td><td>æœªå®šäº‹ä»¶ç°¿</td><td>å…‰ä¸å¤œä¹‹æ‹</td></tr>
        <tr><td>ç§‘å¹»æ˜Ÿé™…æ„Ÿ</td><td>æ—¶ç©ºä¸­çš„ç»˜æ—…äºº</td><td>é¢„çº¦ä»£å·ï¼šæµ·</td></tr>
        <tr><td>å¤šåˆ†æ”¯å‰§æƒ…æ²‰æµ¸</td><td>å°‘å¥³çš„ç‹åº§</td><td>Mr Loveå›½é™…ç‰ˆ</td></tr>
        <tr><td>è½»æ¾æ²»æ„ˆ+å£°æ§</td><td>Obey Me!</td><td>-</td></tr>
      </table>
      <div class="bubble-feedback">
        <button onclick="feedback('like', 'lianyu')">æ»¡æ„</button>
        <button onclick="feedback('dislike', 'lianyu')">ä¸æ»¡æ„</button>
      </div>
      `;
      return html;
    }

    // è¿½åŠ å¯¹è¯æ°”æ³¡
    function addDialogBubble(html) {
      dialogHistory.push(html);
      renderDialogFlow();
    }
    function renderDialogFlow() {
      document.getElementById('dialogFlow').innerHTML = dialogHistory.map(b => `<div class="dialog-bubble">${b}</div>`).join('');
      setTimeout(() => {
        document.getElementById('dialogFlow').scrollTop = document.getElementById('dialogFlow').scrollHeight;
      }, 100);
    }

    // åé¦ˆä¸ç»†åŒ–
    function feedback(type, tag) {
      if (type === 'like') {
        addDialogBubble(`<div class="explain" style="color:#2d8cf0;">æ„Ÿè°¢ä½ çš„åé¦ˆï¼Œå·²ä¸ºä½ è®°å½•åå¥½ï¼</div>`);
      } else if (type === 'dislike') {
        // ç»†åŒ–éœ€æ±‚
        let html = `<div class="bubble-title">ä½ å¯ä»¥è¡¥å……ä½ çš„éœ€æ±‚ï¼Œè®©æ¨èæ›´ç²¾å‡†ï¼š</div>
        <div class="bubble-btns">`;
        let btns = [];
        if (tag === 'id5') {
          btns = ["æ›´å–œæ¬¢å•äºº", "æ›´å–œæ¬¢å‰§æƒ…ä¸°å¯Œ", "æ›´å–œæ¬¢è½»æ¾æ°›å›´", "æ›´å–œæ¬¢ä¸­å¼ææ€–"];
        } else if (tag === 'lianyu') {
          btns = ["æ›´å–œæ¬¢ç§‘å¹»æ„Ÿ", "æ›´å–œæ¬¢å¤šåˆ†æ”¯å‰§æƒ…", "æ›´å–œæ¬¢è½»æ¾æ²»æ„ˆ", "æ›´å–œæ¬¢äº’åŠ¨ç©æ³•"];
        } else {
          btns = ["æ›´å–œæ¬¢å‰§æƒ…", "æ›´å–œæ¬¢ç«æŠ€", "æ›´å–œæ¬¢å…»æˆ", "æ›´å–œæ¬¢ç¤¾äº¤"];
        }
        btns.forEach(txt => {
          html += `<button onclick="refineDemand('${txt.replace(/'/g, "\\'")}')">${txt}</button>`;
        });
        html += `</div>
        <div class="bubble-input-row">
          <input type="text" id="refineInput" placeholder="è‡ªå®šä¹‰è¡¥å……ä½ çš„éœ€æ±‚">
          <button onclick="refineDemand(document.getElementById('refineInput').value)">æäº¤</button>
        </div>
        `;
        addDialogBubble(html);
        setTimeout(() => {
          document.getElementById('refineInput') && document.getElementById('refineInput').focus();
        }, 200);
      }
    }
    // ç»†åŒ–éœ€æ±‚æ¨è
    function refineDemand(txt) {
      if (!txt) return;
      // é’ˆå¯¹ç»†åŒ–å†…å®¹ï¼Œç®€å•è§„åˆ™åŒ¹é…
      if (/å‰§æƒ…|å•äºº|æ²‰æµ¸|æ¨ç†/.test(txt)) {
        addDialogBubble(getBubbleForNormal('å‰§æƒ…', txt));
      } else if (/ç«æŠ€|å›¢é˜Ÿ|å¯¹æŠ—/.test(txt)) {
        addDialogBubble(getBubbleForNormal('ç«æŠ€', txt));
      } else if (/ç§‘å¹»|æ˜Ÿé™…|æœªæ¥/.test(txt)) {
        addDialogBubble(getBubbleForNormal('äºŒæ¬¡å…ƒ', txt));
      } else if (/ææ€–|ä¸­å¼|æ‚¬ç–‘/.test(txt)) {
        addDialogBubble(getBubbleForNormal('å‰§æƒ…', txt));
      } else if (/å…»æˆ|æ”¶é›†/.test(txt)) {
        addDialogBubble(getBubbleForNormal('å…»æˆ', txt));
      } else if (/æ²»æ„ˆ|è½»æ¾|è§£å‹/.test(txt)) {
        addDialogBubble(getBubbleForNormal('å†’é™©', txt));
      } else {
        // é»˜è®¤èµ°æ™®é€šæ¨è
        getRecommendation(txt);
      }
    }

    // å›è½¦å¿«æ·æ¨è
    document.getElementById('userInput').addEventListener('keydown', function(e){
      if(e.key === 'Enter') getRecommendation();
    });

    // åå¥½åˆ†ææ¨èï¼ˆåŸæœ‰é€»è¾‘ä¸å˜ï¼‰
    function showProfileAnalysis() {
      const val = document.getElementById('profileCase').value;
      let analysis = '', recommend = '';
      if (val === 'guofeng') {
        analysis = `
          <div class="section-title">ğŸ¯ é¢˜æåå¥½åˆ†æ</div>
          <div>
            <span class="tag">å›½é£/ä»™ä¾ /æ­¦ä¾ /ç„å¹»</span>
            <span class="tag">ä¸‰å›½</span>
            <span class="tag">å¹»æƒ³RPG</span>
          </div>
          <div class="explain">ä½ åå¥½ä¸œæ–¹æ–‡åŒ–èƒŒæ™¯ã€å¤é£ç¾æœ¯ã€ç¥è¯æˆ–æ­¦ä¾ é¢˜æï¼Œå–œæ¬¢æ²‰æµ¸æ„Ÿå¼ºã€è§’è‰²è®¾å®šé²œæ˜çš„ä¸–ç•Œè§‚ã€‚å¯¹ä¸‰å›½å†å²ç­–ç•¥å’Œè¥¿å¼å¹»æƒ³RPGä¹Ÿæœ‰ä¸€å®šå…´è¶£ã€‚</div>
          <div class="section-title">âš”ï¸ ç©æ³•åå¥½åˆ†æ</div>
          <div>
            <span class="tag">MMO/ARPG/RPG</span>
            <span class="tag">ç­–ç•¥/SLG</span>
            <span class="tag">ç¦åˆ©é©±åŠ¨</span>
          </div>
          <div class="explain">ä½ å–œæ¬¢ä¸­é‡åº¦RPGï¼Œä¹äºè§’è‰²å…»æˆã€åˆ·å‰¯æœ¬ã€å‚ä¸æˆ˜æ–—ï¼Œä¹Ÿå–œæ¬¢ç­–ç•¥æ­é…å’Œæ´»åŠ¨ç¦åˆ©ã€‚</div>
          <div class="section-title">ğŸ¨ ç¾æœ¯ä¸é£æ ¼</div>
          <div>
            <span class="tag">å›½é£æ°´å¢¨</span>
            <span class="tag">ç²¾è‡´å†™å®</span>
            <span class="tag">çƒ­è¡€å¤¸å¼ </span>
          </div>
          <div class="explain">ä½ å¯¹ç¾æœ¯è´¨é‡æœ‰è¦æ±‚ï¼Œåå¥½å›½é£æ°´å¢¨ã€åšæ¶‚é£æ ¼ï¼Œä¹Ÿèƒ½æ¥å—çƒ­è¡€å¤¸å¼ é£æ ¼ã€‚</div>
          <div class="section-title">ğŸ¤ ç¤¾äº¤äº’åŠ¨</div>
          <div>
            <span class="tag">å¤šäººå‰¯æœ¬</span>
            <span class="tag">å…¬ä¼š/å¸®æ´¾</span>
            <span class="tag">è·¨æœæˆ˜</span>
          </div>
          <div class="explain">ä½ å€¾å‘äºåˆä½œä¸ç«æŠ€ç»“åˆï¼Œå–œæ¬¢æœ‰ç¤¾äº¤æˆåˆ†çš„æ¸¸æˆã€‚</div>
        `;
        recommend = `
          <div class="section-title">ğŸ® æ¨èæ¸¸æˆ</div>
          <div class="game-cards">
            <div class="game-card">
              <div class="game-icon">ğŸ‘¹</div>
              <div class="game-info">
                <div class="game-title">é˜´é˜³å¸ˆ <span class="tag">å›½é£RPG</span></div>
                <div class="game-desc"><b>äº®ç‚¹ï¼š</b>é¡¶çº§å›½é£ç¾æœ¯ä¸éŸ³ä¹ï¼Œæ·±åº¦å‰§æƒ…ï¼Œä¸°å¯Œå¼ç¥æ”¶é›†ä¸å…»æˆï¼ŒPVEä¸PVPç©æ³•å…¼å¤‡ã€‚<br>
                <b>é€‚åˆï¼š</b>å–œæ¬¢å¤é£ã€å‰§æƒ…ã€æ”¶é›†å…»æˆã€ç¤¾äº¤ç«æŠ€çš„ç©å®¶ã€‚</div>
              </div>
            </div>
            <div class="game-card">
              <div class="game-icon">ğŸ–Œï¸</div>
              <div class="game-info">
                <div class="game-title">å¿˜å·é£åå½• <span class="tag">æ°´å¢¨å…»æˆ</span></div>
                <div class="game-desc"><b>äº®ç‚¹ï¼š</b>æ°´å¢¨å›½é£ç”»é¢ï¼Œå†å²åå£«å…»æˆï¼Œæ²‰æµ¸å¼å‰§æƒ…ï¼Œè½»æ¾ç¤¾äº¤ã€‚<br>
                <b>é€‚åˆï¼š</b>å–œæ¬¢å†å²ã€å›½é£ã€ä¼‘é—²å…»æˆçš„ç©å®¶ã€‚</div>
              </div>
            </div>
            <div class="game-card">
              <div class="game-icon">ğŸ—¡ï¸</div>
              <div class="game-info">
                <div class="game-title">ä»™å‰‘ä¸–ç•Œ <span class="tag">ä»™ä¾ MMO</span></div>
                <div class="game-desc"><b>äº®ç‚¹ï¼š</b>ç»å…¸IPï¼Œæ²‰æµ¸å¼å‰§æƒ…ï¼Œå¼€æ”¾ä¸–ç•Œæ¢ç´¢ï¼Œä¸°å¯Œå‰¯æœ¬ä¸ç¤¾äº¤ã€‚<br>
                <b>é€‚åˆï¼š</b>å–œæ¬¢ä»™ä¾ ã€å‰§æƒ…ã€æ¢ç´¢çš„ç©å®¶ã€‚</div>
              </div>
            </div>
            <div class="game-card">
              <div class="game-icon">ğŸ¯</div>
              <div class="game-info">
                <div class="game-title">ä¸‰å›½å¿—Â·æˆ˜ç•¥ç‰ˆ <span class="tag">ä¸‰å›½SLG</span></div>
                <div class="game-desc"><b>äº®ç‚¹ï¼š</b>çœŸå®åœ°å½¢ï¼Œæ·±åº¦è°‹ç•¥ï¼Œä¸‡äººåŒå›¾å›½æˆ˜ï¼Œè”ç›Ÿåä½œã€‚<br>
                <b>é€‚åˆï¼š</b>å–œæ¬¢ä¸‰å›½ã€ç­–ç•¥ã€è”ç›Ÿåˆä½œçš„ç©å®¶ã€‚</div>
              </div>
            </div>
            <div class="game-card">
              <div class="game-icon">ğŸ‰</div>
              <div class="game-info">
                <div class="game-title">å®Œç¾ä¸–ç•Œ <span class="tag">å¹»æƒ³MMORPG</span></div>
                <div class="game-desc"><b>äº®ç‚¹ï¼š</b>é«˜è‡ªç”±åº¦é£è¡Œï¼Œç²¾ç¾ç”»é¢ï¼Œä¸°å¯ŒèŒä¸šä¸å‰¯æœ¬ã€‚<br>
                <b>é€‚åˆï¼š</b>å–œæ¬¢å¹»æƒ³ã€å†’é™©ã€ç¤¾äº¤çš„ç©å®¶ã€‚</div>
              </div>
            </div>
          </div>
        `;
      } else if (val === 'funny') {
        analysis = `
          <div class="section-title">ğŸ¯ é¢˜æ&é£æ ¼åå¥½</div>
          <div>
            <span class="tag">è½»æ¾è§£å‹</span>
            <span class="tag">ææ€ªå¹½é»˜</span>
            <span class="tag">ç­–ç•¥å¡”é˜²</span>
            <span class="tag">ç«é€Ÿç ´å</span>
          </div>
          <div class="explain">ä½ å–œæ¬¢è½»æ¾ã€æç¬‘ã€æ“ä½œç®€å•çš„æ¸¸æˆï¼Œåå¥½æœ‰è¶£çš„ç‰©ç†æ¨¡æ‹Ÿã€ç­–ç•¥ä½†ä¸çƒ§è„‘ã€èŠ‚å¥é€‚ä¸­ã€å¸¦ç‚¹â€œåå¸¸è§„â€å¹½é»˜æ„Ÿã€‚</div>
          <div class="section-title">âš”ï¸ ç©æ³•åå¥½</div>
          <div>
            <span class="tag">æ²™é›•ç‰©ç†</span>
            <span class="tag">å¡”é˜²ç­–ç•¥</span>
            <span class="tag">ç«é€Ÿå‘æ³„</span>
            <span class="tag">åˆ›æ„æ¨¡æ‹Ÿ</span>
          </div>
          <div class="explain">ä½ å–œæ¬¢ç‰©ç†æ¨¡æ‹Ÿã€å¡”é˜²ã€è½»ç­–ç•¥ã€ç«é€Ÿç ´åç­‰ç©æ³•ï¼Œäº«å—è§£å‹å’Œææ€ªä½“éªŒã€‚</div>
        `;
        recommend = `
          <div class="section-title">ğŸ® æ¨èæ¸¸æˆ</div>
          <div class="game-cards">
            <div class="game-card">
              <div class="game-icon">ğŸ¦¢</div>
              <div class="game-info">
                <div class="game-title">æ— åé¹…ä½œç¥Ÿ <span class="tag">æ²™é›•ç‰©ç†</span></div>
                <div class="game-desc"><b>äº®ç‚¹ï¼š</b>ä½ æ‰®æ¼”ä¸€åªé¹…ï¼Œåˆ°å¤„æ¶ä½œå‰§ï¼Œçˆ†ç¬‘è§£å‹ï¼Œæ”¯æŒå¤šäººåˆä½œã€‚<br>
                <b>é€‚åˆï¼š</b>å–œæ¬¢è½»æ¾ææ€ªã€è§£å‹ã€å’Œæœ‹å‹ä¸€èµ·èƒ¡é—¹çš„ç©å®¶ã€‚</div>
              </div>
            </div>
            <div class="game-card">
              <div class="game-icon">ğŸ¤ª</div>
              <div class="game-info">
                <div class="game-title">å…¨é¢æˆ˜äº‰æ¨¡æ‹Ÿå™¨ <span class="tag">çˆ†ç¬‘ç‰©ç†</span></div>
                <div class="game-desc"><b>äº®ç‚¹ï¼š</b>è¶…æç¬‘ç‰©ç†æ¨¡æ‹Ÿæˆ˜äº‰ï¼Œå£«å…µåƒé¢æ¡ä¸€æ ·äº’æ®´ï¼Œèƒ¡é—¹åˆ°æè‡´ã€‚<br>
                <b>é€‚åˆï¼š</b>å–œæ¬¢çˆ†ç¬‘ã€ç­–ç•¥ã€ç‰©ç†æ¨¡æ‹Ÿçš„ç©å®¶ã€‚</div>
              </div>
            </div>
            <div class="game-card">
              <div class="game-icon">ğŸ§‘â€ğŸ¤â€ğŸ§‘</div>
              <div class="game-info">
                <div class="game-title">äººç±»ä¸€è´¥æ¶‚åœ° <span class="tag">Qå¼¹è§£è°œ</span></div>
                <div class="game-desc"><b>äº®ç‚¹ï¼š</b>Qå¼¹è§’è‰²è§£è°œé—¯å…³ï¼Œæ”¯æŒå¤šäººï¼Œæ²™é›•ç‰©ç†ï¼Œç¬‘åˆ°æŠ½ç­‹ã€‚<br>
                <b>é€‚åˆï¼š</b>å–œæ¬¢ç‰©ç†è§£è°œã€åˆä½œé—¯å…³çš„ç©å®¶ã€‚</div>
              </div>
            </div>
            <div class="game-card">
              <div class="game-icon">ğŸ§ </div>
              <div class="game-info">
                <div class="game-title">ç‹å›½ä¿å«æˆ˜ <span class="tag">å¡”é˜²ç­–ç•¥</span></div>
                <div class="game-desc"><b>äº®ç‚¹ï¼š</b>ä¸­ä¸–çºªå¡”é˜²ï¼Œç”»é£ç²¾è‡´ï¼Œç­–ç•¥æ€§é€‚ä¸­ï¼Œéå¸¸å¥½ç©ã€‚<br>
                <b>é€‚åˆï¼š</b>å–œæ¬¢å¡”é˜²ã€ç­–ç•¥ã€è½»åº¦æŒ‘æˆ˜çš„ç©å®¶ã€‚</div>
              </div>
            </div>
            <div class="game-card">
              <div class="game-icon">ğŸï¸</div>
              <div class="game-info">
                <div class="game-title">Road Redemption <span class="tag">æš´åŠ›æ‘©æ‰˜</span></div>
                <div class="game-desc"><b>äº®ç‚¹ï¼š</b>â€œæš´åŠ›æ‘©æ‰˜â€ç²¾ç¥ç»­ä½œï¼Œéª‘è½¦ã€é£™è½¦ã€æäººï¼Œéå¸¸çˆ½å¿«ã€‚<br>
                <b>é€‚åˆï¼š</b>å–œæ¬¢ç«é€Ÿã€å‘æ³„ã€åŠ¨ä½œçš„ç©å®¶ã€‚</div>
              </div>
            </div>
          </div>
        `;
      }
      document.getElementById('profileAnalysis').innerHTML = analysis;
      document.getElementById('profileRecommend').innerHTML = recommend;
    }

    // å›è½¦å¿«æ·æ¨è
    document.getElementById('userInput').addEventListener('keydown', function(e){
      if(e.key === 'Enter') getRecommendation();
    });
  </script>
</body>
</html>